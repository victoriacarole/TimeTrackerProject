@page "{groupId:int}"

@model TimeTrackerProject.Pages.GroupTimecardModel
@{
    ViewData["Title"] = "Group TimeCard";

}


<a asp-page="../AddTimecard" class="btn btn-primary" style="float:right;margin:0px 5px 5px 0px;">Add Time</a> <a asp-page="./Groups" class="btn btn-primary" style="float:right;margin: 0px 5px 0px 0px;"> All Groups</a>

<table class="table">
    <tr>
        <td><h1>@Model.GroupName</h1></td>
    </tr>
    <tr class="headerRow">
        <td>Start Time</td>
        <td>End Time</td>
        <td>Work Comments</td>
        <td>Total Hours</td>
        <td>User Id</td>
    </tr>
    @foreach (var timeCard in Model.UserTimes)
    {
        <tr>
            <td>@timeCard.Start</td>
            <td>@timeCard.Stop</td>
            <td>@timeCard.Note</td>
            <td>@timeCard.Hours</td>
            <td>@timeCard.UserID</td>
        </tr>
    }
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr class="headerRow">
        <td>Total Hours: </td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>

<div id="piechart"></div>

<a asp-page="../AddTimecard" class="btn btn-primary" style="float:right;margin:0px 5px 5px 0px;">Add Time</a> <a asp-page="./Groups" class="btn btn-primary" style="float:right;margin: 0px 5px 0px 0px;"> All Groups</a>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js%22%3E</script>

<script type="text/javascript">
    // Load google charts
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    // Draw the chart and set the chart values
    function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['Task', 'Hours per Day'],
            ['Work', 8],
            ['Friends', 2],
            ['Eat', 2],
            ['TV', 2],
            ['Gym', 2],
            ['Sleep', 8]
        ]);

        // Optional; add a title and set the width and height of the chart
        var options = { 'title': 'My Average Day', 'width': 550, 'height': 400 };

        // Display the chart inside the <div> element with id="piechart"
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
    }
</script>

@* CSS *@
<style>

    header {
        background: white;
    }

    footer {
        display: none;
    }

    body {
        background-color: #492365;
        background-image: url('../images/4703133.jpg');
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: 100%;
    }

    .table {
        background-color: white;
        margin: 0px;
        margin-bottom: 5px;
        margin-top: 5px;
    }

    .headerRow {
        font-weight: bold;
    }

    .btn {
        background-color: #009844;
        color: white;
        font-weight: bold;
        border-style: none;
    }

        .btn:hover {
            background-color: #00C957;
            border-style: none;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
</style>
